!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vue-notice-bar",[],e):"object"==typeof exports?exports["vue-notice-bar"]=e():t["vue-notice-bar"]=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=4)}([function(t,e,i){var n=i(2);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(5).default)("1faf986e",n,!1,{})},function(t,e,i){"use strict";var n=i(0);i.n(n).a},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,"\n*[data-v-9442ad82] {\n  box-sizing: border-box;\n}\n.ellipsis[data-v-9442ad82] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.paddingLR[data-v-9442ad82] {\n  padding-left: 5%;\n  padding-right: 5%;\n}\n.notice-bar[data-v-9442ad82] {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #d04519;\n  background-size: cover;\n  overflow: hidden;\n  padding-left: 5%;\n  padding-right: 5%;\n}\n.notice-bar .icon-laba[data-v-9442ad82] {\n  color: #fffbbc;\n  font-size: 19px;\n}\n.notice-bar .text-container[data-v-9442ad82] {\n  position: relative;\n  margin-left: 5px;\n  width: 90%;\n  color: #fffbbc;\n  height: 100%;\n  overflow: hidden;\n}\n.notice-bar .text-duplicate[data-v-9442ad82] {\n  width: 81%;\n  position: absolute;\n}\n.notice-bar .text[data-v-9442ad82] {\n  display: flex;\n  align-items: center;\n}\n.notice-bar .text span[data-v-9442ad82] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.left-icon__custom[data-v-9442ad82] {\n  width: 16px;\n  position: relative;\n}\n.left-icon__custom img[data-v-9442ad82] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 16px;\n  height: 16px;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notice-bar",style:t.compStyle,on:{click:t.handleClick}},[i("div",{staticClass:"left-icon"},[""!==t.leftIcon?i("div",{staticClass:"left-icon__custom"},[i("img",{attrs:{src:t.leftIcon}})]):t._e(),t._v(" "),i("i",{staticClass:"iconfont icon-laba",style:{color:t.color}})]),t._v(" "),i("div",{ref:"textContainer",staticClass:"text-container text-swiper"},[i("div",{ref:"textWrapper",staticClass:"text-wrapper"},t._l(t.textList,function(e,n){return i("div",{key:n,staticClass:"text",style:t.textItemStyle},[i("span",[t._v(t._s(e))])])})),t._v(" "),i("div",{ref:"textDuplicate",staticClass:"text-duplicate",style:t.textDuplicateStyle},[i("div",{staticClass:"text",style:{height:t.height+"px",color:t.color,lineHeight:t.height+"px",transition:t.cpuTransition}},[i("span",[t._v(t._s(t.textList[0]))])])])])])};n._withStripped=!0;var r={name:"NoticeBar",data:()=>({idx:0,durationT:0}),props:{height:{default:"31"},text:"",bgColor:{type:String,default:"#03a9f4"},bgImg:String,color:{type:String,default:"#fff"},textGap:{type:String,default:"14px"},leftIcon:{type:String},special:{type:Boolean,default:!1},interval:{default:3e3},duration:{default:3},vertical:Boolean},computed:{textList(){return"string"==typeof this.text?[this.text]:Array.isArray(this.text)?this.text:(console.error("property textâ€˜s type should be string or array"),[""])},cpuTransition(){return this.vertical?`transform ${this.duration}s cubic-bezier(.17,.67,.41,1.03)`:`transform ${this.durationT}s linear`},textItemStyle(){return this.vertical?{width:"100%",height:`${this.height}px`,color:this.color,transition:this.cpuTransition}:{display:"inline-block",transition:"none",color:this.color,paddingRight:this.textGap}},textDuplicateStyle(){return this.vertical?{top:`${this.height}px`}:{top:"0"}},compStyle(){return{height:`${this.height}px`,backgroundColor:this.bgColor,lineHeight:`${this.height}px`,backgroundImage:this.special?`url(${this.bgImg})`:"none"}}},watch:{},beforeDestroy(){clearInterval(this.scrollInterval)},mounted(){this.init().then(()=>{this.$nextTick(()=>{this.loop()})})},methods:{init(){return new Promise((t,e)=>{this.$nextTick(()=>{let e=this.$refs.textWrapper;if(this.itemArr=e.getElementsByClassName("text"),this.vertical&&(this.itemDul=this.$refs.textDuplicate.querySelector(".text")),this.scrollH=window.getComputedStyle(document.querySelector(".text"),null).height.replace("px",""),!this.vertical){this.wrapperWid=0,this.containerWid=window.getComputedStyle(this.$refs.textContainer,null).width.replace("px","");for(let t=0;t<this.itemArr.length;t++)this.wrapperWid+=Math.ceil(window.getComputedStyle(this.itemArr[t],null).width.replace("px",""));e.style.width=this.wrapperWid+"px",e.style.height="100%",e.style.marginLeft="100%",this.$refs.textDuplicate.style.left=this.containerWid+"px"}t()})})},scrollVert(t){return new Promise((e,i)=>{for(let e=0;e<this.itemArr.length;e++)this.setTransform(this.itemArr[e],0,this.scrollH*-t,0);setTimeout(()=>{e(!0)},this.interval)})},scrollHori(t){this.setTransition(this.$refs.textWrapper),this.setTransform(this.$refs.textWrapper,t,0,0,1e3*this.durationT-300).then(()=>{this.initTransiton(this.$refs.textWrapper),this.initTransform(this.$refs.textWrapper)})},loop(){this.vertical?this.scrollInterval=setInterval(()=>{this.idx++,this.idx!==this.text.length?this.scrollVert(this.idx):(this.setTransform(this.itemDul,0,-this.scrollH,0),this.scrollVert(this.idx).then(()=>{this.initScroll(),setTimeout(()=>{this.setTransition(this.itemDul);for(let t=0;t<this.itemArr.length;t++)this.setTransition(this.itemArr[t]);this.scrollVert(1)},30)}))},this.interval):(this.durationT=this.wrapperWid/40,this.scrollHori(-this.wrapperWid-this.containerWid),this.scrollInterval=setInterval(()=>{this.scrollHori(-this.wrapperWid-this.containerWid)},1e3*this.durationT))},initScroll(){this.idx=1,this.itemDul&&(this.initTransiton(this.itemDul),this.initTransform(this.itemDul));for(let t=0;t<this.itemArr.length;t++)this.initTransiton(this.itemArr[t]);this.scrollVert(0)},initTransiton(t){t.style.transition="none"},initTransform(t){t.style.transform="none"},setTransition(t){t.style.transition=this.cpuTransition},setTransform:(t,e,i,n,r)=>new Promise((o,s)=>{t&&(t.style.transform=`translate3d(${e}px, ${i}px, ${n}px)`),setTimeout(()=>{o(!0)},r)}),handleClick(){this.$emit("click")}}};i(1);var o=function(t,e,i,n,r,o,s,a){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}(r,n,[],!1,null,"9442ad82",null);o.options.__file="src/lib/index.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s},function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],s=o[0],a={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}i.r(e),i.d(e,"default",function(){return f});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,d=function(){},u=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,i,r){c=i,u=r||{};var s=n(t,e);return v(s),function(e){for(var i=[],r=0;r<s.length;r++){var a=s[r];(l=o[a.id]).refs--,i.push(l)}e?v(s=n(t,e)):s=[];for(r=0;r<i.length;r++){var l;if(0===(l=i[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function v(t){for(var e=0;e<t.length;e++){var i=t[e],n=o[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(g(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(g(i.parts[r]));o[i.id]={id:i.id,refs:1,parts:s}}}}function m(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function g(t){var e,i,n=document.querySelector("style["+p+'~="'+t.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(h){var r=l++;n=a||(a=m()),e=y.bind(null,n,r,!1),i=y.bind(null,n,r,!0)}else n=m(),e=function(t,e){var i=e.css,n=e.media,r=e.sourceMap;n&&t.setAttribute("media",n);u.ssrId&&t.setAttribute(p,e.id);r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var x=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function y(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}}])});